<!DOCTYPE html>
<html>

<head>
  <title>HOMES Clinic</title>
  
  <script src="js/script.js" defer></script>
  <script src="jquery.min.js" defer></script>
  <script src="listbox/listbox.js" defer></script>
  <script src="listbox/listbox-scrollable.js" defer></script>
  <script src="listbox/utils.js"></script>
  <script src="js/medication-script.js"></script>
  <script src="js/global-vars.js"></script>

  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <link rel="stylesheet" type="text/css" href="css/medication-styles.css">
  <link rel="stylesheet" type="text/css" href="print-styles.css" media="print">
  <link rel="stylesheet" type="text/css" href="listbox\listbox.css">
  <link rel="stylesheet" type="text/css" href="css/triage.css">
</head>

<body>

  <h1>HOMES Clinic</h1>

  <!-- TAB NAVIGATION -->
  <div class="tab-container">
    <img src="HOMES_logo.jpg" alt="HOMES Logo" class="logo">
    <button class="tab-button" onclick="openTab('Overview')">Overview</button>
    <button class="tab-button" onclick="openTab('Triage')">Triage</button>
    <button class="tab-button" onclick="openTab('Forms')">Forms</button>
    <button class="tab-button" onclick="openTab('Encounter')">Encounter</button>
    <button class="tab-button" onclick="openTab('PrevHealth')">Preventative Health</button>
    <button class="tab-button" onclick="openTab('Medications')">Medications</button>
    <button class="tab-button" onclick="openTab('Referrals')">Referrals</button>
    <button class="tab-button" onclick="openTab('AfterVisitSummary')">After Visit Summary</button>
    <button class="tab-button" onclick="openTab('ED_Dir')">ED Directions</button>
    <button class="tab-button" onclick="openTab('PtSum')">Patient Summary</button>
    <button class="tab-button" onclick="openTab('GenNote')" style="margin-right:22px;">Generate Note</button>  
  </div>

  <!-- OVERVIEW TAB -->
  <div class="tab-content" id="Overview">
    <h2>Overview</h2>
    <p>
      Insert Overview of HOMES Here
    </p>
  </div>



  <!-- TRIAGE TAB -->
  <div class="tab-content triage-tab" id="Triage">

    <!-- Title -->
    <h1 class="triage-title">Triage</h1>

    <!-- Buttons and Collapsible Content -->

    <!-- Instructions Collapsible -->
    <button class="collapsible-button" onclick="collapseClick(this)">Instructions</button>
    <div class="collapsible-content collapsible-instructions">
      <ol class="instructions">
        <li>Stop all movement of students through the back door. <span class="bold-text">All students need to be going through the front door/breezeway to enter and exit the Beacon</span> (getting lunch, going to speak to laundry staff, etc).</li>
        <ul>
          <li>Patients should always be escorted into the clinic waiting room through the clinic front door.</li>
          <li>Patients should return to the Beacon during operating hours through the front glass double door entrance.</li>
        </ul>
        <li>All HOMES Clinic volunteers should have another <span class="bold-text">volunteer buddy</span> for any activity in which they interact with patients or have the potential to interact with Beacon clients.</li>
        <li>If HOMES Clinic volunteers find themselves in an uncomfortable or unsafe situation with a patient or another person (the person is yelling, making derogatory or sexually suggestive comments, threatening physical violence, etc), <span class="bold-text underline-text">volunteers should remove themselves from the situation and do the following: Volunteers should immediately alert the in-person physician or pharmacist attending to help de-escalate and manage unsafe situations.</span></li>
        <li>We will set up an <span class="bold-text highlight-text">MIT 2 “lifeguard”</span> who stands by the clinical students triaging who’s entire purpose is to <span class="bold-text">monitor the preclinical and clinical students and can go get assistance if needed.</span></li>
        <li><span class="bold-text">The Health Advocates will now perform their role during triage.</span> As the pre-clinical students walk around the tables, they will direct people with social concerns towards the health advocates, who will set up their own table next to the clinical student’s triage station. After triage, the health advocates can remain at their table and continue talking to any patients if necessary.</li>
        <li>If an incident occurs, students need to <span class="bold-text">alert HOMES Clinic Faculty Advisors Dr. Clark and Dr. Wallace</span> as soon as it is safe to do so.</li>
        <li><span class="bold-text highlight-text">If there are ever any incidents during your shift as a Manager/MIT, especially concerning safety, please contact one of the AD Managers (Aditya/Panos) and let us know! Even if the incidents were resolved or were not associated with any consequences, we would like you to let us know.</span></li>
      </ol>
    </div>


    <!-- Beacon Orientation Collapsible -->
    <button class="collapsible-button" onclick="collapseClick(this)">Beacon Orientation</button>
    <div class="collapsible-content collapsible-orientation">
      <img class="beacon-orientation" src="img/Beacon Diagram.svg" alt="Beacon Orientation">
    </div>


    <!-- Patient Priority Collapsible -->
    <button class="collapsible-button" onclick="collapseClick(this)">Patient Priority</button>
    <div class="collapsible-content collapsible-priority">
      <div class="priority-container">

        <div class="category-container">
          <div class="priority-ranks level-1">Level 1</div>
          <p class="category-description">The patient is unresponsive or unconscious, suffering from life-threatening conditions, or has suicidal ideation with intent.</p>
          <p class="bold-text category-to-do">Call 911</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-2">Level 2</div>
          <p class="category-description">The patient shows signs of distress and is experiencing a condition that can become life-threatening. Patient needs to be reevaluated at a hospital and needs continuous monitoring.</p>
          <p class="bold-text category-to-do">Instructions to Ben Taub</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-3">Level 3</div>
          <p class="category-description">The patient is stable, but requires multiple types of resources / medications to be treated.</p>
          <p class="bold-text category-to-do">HOMES Possible + Instructions to Ben Taub</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-4">Level 4</div>
          <p class="category-description">The patient is stable, but has treatable injuries or medication refills that need medical attention.</p>
          <p class="bold-text category-to-do">HOMES Possible</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-5">Level 5</div>
          <p class="category-description">The patient has non-threatening symptoms, is in stable condition, or has an appointment scheduled in the future.</p>
          <p class="bold-text category-to-do">Pass / Observe</p>
        </div>

      </div>
    </div>


    <!-- Triage Table -->
    <h1 class="triage-title">Patient List</h1>
    <div class="triage-input-grid">

      <!-- Name Input -->
      <div class="input-divs input-div-name">
        <h3 class="triage-titles">Patient Name</h3>
        <input placeholder="Name" class="js-name-input js-triage-item name-input">
      </div>

      <!-- Date of birth Input -->
      <div class="input-divs input-div-dob">
        <h3 class="triage-titles">Date of Birth</h3>
        <input type="date" class="js-dob-input js-triage-item dob-input">
      </div>

      <!-- Chief Concern Input -->
      <div class="input-divs input-div-cc">
        <h3 class="triage-titles">Chief Concern</h3>
        <input placeholder="Chief Concern" class="js-cc-input js-triage-item cc-input">
      </div>

      <!-- Temperature Input -->
      <div class="input-divs input-div-temp">
        <h3 class="triage-titles">Temperature</h3>
        <input placeholder="00.0" type="number" class="js-temp-input temp-input">
      </div>

      <!-- New to HHH input -->
      <div class="input-divs input-div-hhh">
        <h3 class="triage-titles">New to HHH / Harris Health?</h3>
        <div class="radio-div">
          <input type="radio" id="yes" name="hhh" class="js-hhh-input" value="yes">
          <label for="yes">Yes</label>
          <input type="radio" id="no" name="hhh" class="js-hhh-input" value="no">
          <label for="no">No</label>
          <input type="radio" id="unsure" name="hhh" class="js-hhh-input" value="unsure">
          <label for="unsure">Unsure</label>
        </div>
      </div>

      <!-- Add/Remove Button -->
      <div class="input-divs">
        <h3 class="triage-titles">Add/Remove</h3>
        <button class="add-triage-button js-add-triage-button">Add</button>
      </div>

    </div>


    <!-- Running list of patients -->
    <div class="js-triage-list triage-grid"></div>


    <!-- Script for running Triage -->
    <script src="js/triage.js"></script>


  </div>



  <!-- FORMS TAB -->
  <div class="tab-content" id="Forms">
    <h2>Forms</h2>
    <p>
      These include consent forms that the patients need to fill out before they can be seen by the volunteers at
      HOMES.
    </p>
  </div>

  <!-- ENCOUNTER TAB -->
  <div class="tab-content" id="Encounter">
    <h2>Encounter</h2>
    <p>
      This has various subtabs within it based on medical history and physical templates. There are also questionnaires
      like the DAST, PHQ-9, etc. (things you would be concerned for in a homeless population). There are automatic
      calculators for things like the ASCVD Score.
    </p>
    <div id="encounter-section">
      <h3>Select Type of Encounter</h3>
      <input type="radio" id="medication-refill" name="encounter-type" value="Medication Refill">
      <label for="medication-refill">Medication Refill</label><br>
      <input type="radio" id="hypertension" name="encounter-type" value="Hypertension">
      <label for="hypertension">Hypertension</label><br>
      <input type="radio" id="basic-visit" name="encounter-type" value="Basic Visit">
      <label for="basic-visit">Basic Visit</label><br>
    </div>
    <button onclick="saveTime()">Save Time</button>
    <span id="TimeButton"></span>
  </div>

  <!-- PREVENTATIVE HEALTH TAB -->
  <div class="tab-content" id="PrevHealth">
    <h2>Preventative Health</h2>
    <p>
      Include information about Preventative Health here...
      <br><br><br>
      There will be a table here that is similar to the current preventative health table we 
      give to students
    </p>
  </div>

  <!-- MEDICATIONS TAB -->
  <div class="tab-content" id="Medications">
    <h2>Medications</h2>
    <p>
      Users will select the medications to dispense here.
    </p>
    <div class="medication-container">
      <div class="medication-box">
        <h3>Formulary</h3>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medications Search</title>
    <style>
      #textContainer {
          margin-top: 20px;
      }

      .hidden {
          display: none;
      }
  </style>
  <body>
    <input type="text" id="medicationSearchBar" placeholder="Search Medications">
    <script>searchFunctionality()</script>
  </body>
        <style>
          .selectable-list {
              list-style-type: none;
              padding: 0;
          }
  
          .bold {
              font-weight: bold;
          }
      </style>
          <ol id="medicationList" class="selectable-list"></ol>
      </div>
      
      <div class="medication-box">
        <h3>Drug Information</h3>
        <textarea id="medicationInfo" rows="4" cols="50" readonly></textarea>
      </div>

      <div class="medication-box">
        <h3>Prescribed Medications</h3>
        <div class="listbox-area">
          <ul id="prescribedList" tabindex="0" role="listbox" aria-labelledby="prescribedLabel"></ul>
        </div>
      </div>
    </div>
    <div class="medication-buttons">
      <button onclick="saveSelection()">Save</button>
    </div>
  </div>



  <!-- REFERRAL TAB -->
  <div class="tab-content" id="Referrals" style="margin-top:10px; padding-top:10px">
    <iframe id="iframes" src="referral.html"></iframe>
  </div>

  <!-- AFTER VISIT SUMMARY TAB -->
  <div class="tab-content" id="AfterVisitSummary" style="margin-top:10px; padding-top:10px">
      <iframe id="iframes" src="after_visit_sum.html"></iframe>
  </div>

  <!-- ED DIRECTIONS TAB -->
  <div class="tab-content" id="ED_Dir">
    <h2>ED Directions</h2>
    <div class="directions-options">
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_ben_taub.pdf')">Directions to Ben Taub ER</button>
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_caroline_clinic_transit.pdf')">Directions to Caroline Street Clinic (transit)</button>
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_caroline_clinic_walking.pdf')">Directions to Caroline Street Clinic (walking)</button>
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_memorial_hermann.pdf')">Directions to Memorial Hermann ER</button>
    </div>
    <iframe id="pdfFrame" width="90%" height="90%" style="display: none;"></iframe>
  </div>

  <!-- PATIENT SUMMARY TAB -->
  <div class="tab-content" id="PtSum">
    <h2>Patient Summary</h2>
    <p>
      A summary of the patient will be viewable here.
    </p>
  </div>

  <!-- GENERATE NOTE TAB -->
  <div class="tab-content" id="GenNote">
    <h2>Generated Note</h2>
    <p>
      This tab compiles all the information from the other four tabs into a single tab that autofills as you complete
      the other tabs. At the bottom of the page is a 'PRINT' button that allows you to print the entire tab at once.
    </p>
  </div>

</body>

</html>